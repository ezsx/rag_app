# Telegram RAG Application - ัะธััะตะผะฐ ะฒะพะฟัะพัะพะฒ ะธ ะพัะฒะตัะพะฒ

ะกะธััะตะผะฐ **Retrieval-Augmented Generation (RAG)** ะดะปั ะพัะฒะตัะพะฒ ะฝะฐ ะฒะพะฟัะพัั ะฝะฐ ะพัะฝะพะฒะต ัะพะพะฑัะตะฝะธะน ะธะท ะบะฐะฝะฐะปะพะฒ telegram.

## โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ท๐บ **ะัััะบะพัะทััะฝะฐั ะผะพะดะตะปั** - Vikhr-7B-instruct ะดะปั ะบะฐัะตััะฒะตะฝะฝัั ะพัะฒะตัะพะฒ
- ๐ **GPU ััะบะพัะตะฝะธะต** - ะััััะฐั ะพะฑัะฐะฑะพัะบะฐ ะฝะฐ NVIDIA GPU
- ๐ **ะะตะบัะพัะฝะฐั ะฑะฐะทะฐ** - ChromaDB ะดะปั ะฟะพะธัะบะฐ ัะตะปะตะฒะฐะฝัะฝัั ะดะพะบัะผะตะฝัะพะฒ  
- ๐ฑ **REST API** - ะัะพััะพะน HTTP ะธะฝัะตััะตะนั
- ๐จ **Telegram ะธะฝgest** - ะะฐะณััะทะบะฐ ัะพะพะฑัะตะฝะธะน ะธะท Telegram ะบะฐะฝะฐะปะพะฒ
- ๐ **ะะฒัะพัะบะฐัะธะฒะฐะฝะธะต ะผะพะดะตะปะตะน** - ะะฐัััะพะนะบะฐ ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน
- ๐ณ **Docker ะณะพัะพะฒะฝะพััั** - ะัะพััะพะน ะทะฐะฟััะบ ะฒ ะบะพะฝัะตะนะฝะตัะฐั

## ๐ ะขะตัะฝะพะปะพะณะธะธ

- **Backend**: FastAPI, Python 3.11+
- **ะะตะบัะพัะฝะฐั ะะ**: ChromaDB 1.0.13
- **LLM**: Vikhr-7B-instruct (GGUF Q4_K_M)
- **Embeddings**: intfloat/multilingual-e5-large
- **ML**: PyTorch 2.2, Sentence-Transformers
- **ะะตะฟะปะพะน**: Docker, NVIDIA Container Runtime

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

### ะะธะฝะธะผะฐะปัะฝัะต
- Docker + Docker Compose
- 8 GB RAM
- 10 GB ัะฒะพะฑะพะดะฝะพะณะพ ะผะตััะฐ

### ะะตะบะพะผะตะฝะดัะตะผัะต (ะดะปั GPU)
- NVIDIA GPU ั 8+ GB VRAM
- NVIDIA Container Runtime
- CUDA 12.x

## ๐ ะัััััะน ััะฐัั

### 1. ะะฐะฟััะบ ัะธััะตะผั
```bash
# ะะตัะฒัะน ะทะฐะฟััะบ (ัะบะฐัะฐะตั ะธ ะฝะฐัััะพะธั ะผะพะดะตะปะธ)
docker compose --profile api up

# ะะถะธะดะฐะตะผ ัะพะพะฑัะตะฝะธะต: "โ ะะฝะธัะธะฐะปะธะทะฐัะธั ะทะฐะฒะตััะตะฝะฐ ััะฟะตัะฝะพ"
# API ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั: http://localhost:8000
```

### 2. ะัะพะฒะตัะบะฐ ัะฐะฑะพัั
```bash
# ะัะพะฒะตััะตะผ ััะฐััั
curl http://localhost:8000/health

# ะัะพะฑัะตะผ ะทะฐะดะฐัั ะฒะพะฟัะพั
curl -X POST "http://localhost:8000/v1/qa" \
  -H "Content-Type: application/json" \
  -d '{"query": "ะะฐััะบะฐะถะธ ะพ ัะธััะตะผะต", "include_context": false}'
```

## ๐ ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั ะธะท Telegram

### ะะพะดะณะพัะพะฒะบะฐ
1. ะะพะปััะธัะต API ะบะปััะธ Telegram:
   - ะะฐะนะดะธัะต ะฝะฐ https://my.telegram.org
   - ะกะพะทะดะฐะนัะต ะฟัะธะปะพะถะตะฝะธะต ะธ ะฟะพะปััะธัะต `api_id` ะธ `api_hash`

2. ะะฐัััะพะนัะต `.env`:
```bash
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
```

### ะะฐะณััะทะบะฐ ัะพะพะฑัะตะฝะธะน
```bash

# CPU \ GPU ะฒะตััะธั (ะฑััััะพ, ััะตะฑัะตั NVIDIA GPU)
docker compose run --rm ingest --channel durov --since 2025-07-01 \
 --until 2025-08-01 --collection news_demo4
```

**ะัะธะผะตั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ:**
- CPU: ~10,000 ัะพะพะฑัะตะฝะธะน ะทะฐ 30 ะผะธะฝัั
- GPU: ~10,000 ัะพะพะฑัะตะฝะธะน ะทะฐ 3-5 ะผะธะฝัั

## ๐ง ะะพะฝัะธะณััะฐัะธั (.env)

[.env.example](.env.example)

## ๐ก API Endpoints

### GET /health
ะัะพะฒะตัะบะฐ ััะฐัััะฐ ัะธััะตะผั
```bash
curl http://localhost:8000/health
# ะัะฒะตั: {"status": "healthy", "timestamp": "..."}
```

### POST /v1/qa
ะัะฝะพะฒะฝะพะน endpoint ะดะปั ะฒะพะฟัะพัะพะฒ ะธ ะพัะฒะตัะพะฒ

**ะะตะท ะบะพะฝัะตะบััะฐ:**
```bash
curl -X POST "http://localhost:8000/v1/qa" \
  -H "Content-Type: application/json" \
  -d '{"query": "ะงัะพ ัะฐะบะพะต ะธัะบััััะฒะตะฝะฝัะน ะธะฝัะตะปะปะตะบั?"}'
```

**ะก ะบะพะฝัะตะบััะพะผ:**
```bash
curl -X POST "http://localhost:8000/v1/qa" \
  -H "Content-Type: application/json" \
  -d '{"query": "ะ ััะผ ะณะพะฒะพััั ะฒ ะฝะพะฒะพัััั?", "include_context": true}'
```

**ะัะฒะตั ั ะบะพะฝัะตะบััะพะผ:**
```json
{
  "answer": "ะะฐ ะพัะฝะพะฒะต ะฝะฐะนะดะตะฝะฝัั ะดะพะบัะผะตะฝัะพะฒ...",
  "query": "ะ ััะผ ะณะพะฒะพััั ะฒ ะฝะพะฒะพัััั?",
  "context": [
    {
      "document": "ะขะตะบัั ะดะพะบัะผะตะฝัะฐ...",
      "metadata": {"source": "telegram", "date": "2024-01-01"},
      "distance": 0.15
    }
  ],
  "total_documents": 1
}
```


## ๐พ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
rag_app/
โโโ ๐ src/                          # ะััะพะดะฝัะน ะบะพะด ะฟัะธะปะพะถะตะฝะธั
โ   โโโ ๐ adapters/chroma/          # ะะดะฐะฟัะตั ะดะปั ChromaDB
โ   โโโ ๐ core/                     # ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ (DI, ะบะพะฝัะธะณััะฐัะธั)
โ   โโโ ๐ schemas/                  # Pydantic ััะตะผั ะดะปั API
โ   โโโ ๐ services/                 # ะะธะทะฝะตั-ะปะพะณะธะบะฐ (QA ัะตัะฒะธั)
โ   โโโ ๐ utils/                    # ะฃัะธะปะธัั (ะฟัะพะผะฟัั, ะทะฐะณััะทะบะฐ ะผะพะดะตะปะตะน)
โ   โโโ ๐ cli/                      # CLI ะบะพะผะฐะฝะดั
โ   โโโ ๐ tests/                    # Unit ัะตััั
โ   โโโ ๐ main.py                   # FastAPI ะฟัะธะปะพะถะตะฝะธะต
โโโ ๐ scripts/                      # ะกะบัะธะฟัั ะธะฝะตััะธะฝะณะฐ
โ   โโโ ๐ ingest_telegram.py        # ะะฐะณััะทะบะฐ ะธะท Telegram
โโโ ๐ chroma-data/                  # ะะฐะฝะฝัะต ChromaDB (ะฟะตััะธััะตะฝัะฝัะต)
โโโ ๐ models/                       # ะัั ะผะพะดะตะปะตะน
โโโ ๐ณ docker-compose.yml            # ะัะบะตัััะฐัะธั ะบะพะฝัะตะนะฝะตัะพะฒ
โโโ ๐ณ Dockerfile.api                # ะะฑัะฐะท ะดะปั API
โโโ ๐ณ Dockerfile.ingest             # ะะฑัะฐะท ะดะปั ingest
โโโ ๐ณ Dockerfile.chroma             # ะะฑัะฐะท ะดะปั ChromaDB
โโโ ๐ requirements_api.txt          # ะะฐะฒะธัะธะผะพััะธ API
โโโ ๐ requirements_ingest.txt       # ะะฐะฒะธัะธะผะพััะธ ingest
โโโ ๐ .env.example                  # ะัะธะผะตั ะบะพะฝัะธะณััะฐัะธะธ
```

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป LICENSE ะดะปั ะดะตัะฐะปะตะน

---
**ะะตััะธั**: MVP 1.0  
